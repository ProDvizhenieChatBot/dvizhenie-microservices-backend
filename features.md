### **Примерный список функциональных возможностей (Feature List)**

Этот документ описывает основные функциональные возможности системы, сгруппированные по категориям для лучшего понимания.

#### **1. Пользовательские возможности (для подопечных и их представителей)**

Эти функции описывают опыт пользователя, заполняющего анкету.

*   **Многоплатформенный доступ:**
    *   **Telegram Bot:** Возможность начать диалог и получить ссылку на анкету (Mini App) прямо в Telegram.
    *   **Веб-виджет:** Возможность запустить тот же процесс заполнения анкеты через виджет, встроенный в сайт фонда `dvizhenie.life`.

*   **Онбординг и согласие:**
    *   Четкое приветствие с объяснением цели и примерного времени заполнения анкеты.
    *   Обязательный шаг получения согласия на обработку персональных данных в соответствии с 152-ФЗ.

*   **Интерактивная и динамическая анкета:**
    *   **Пошаговое заполнение:** Один вопрос на одном экране для удобства пользователя.
    *   **Валидация данных:** Автоматическая проверка корректности ввода (формат телефона, email, дата рождения не в будущем).
    *   **Условная логика (ветвление):** Анкета адаптируется в зависимости от ответов пользователя (например, разные вопросы для совершеннолетнего подопечного и для родителя ребенка).
    *   **Разнообразные типы полей:** Использование кнопок и чекбоксов для минимизации ручного ввода текста.

*   **Управление документами:**
    *   **Удобная загрузка файлов:** Возможность загружать фото и сканы документов (JPG, PNG, PDF) как с компьютера, так и с камеры телефона.
    *   **Подсказки и примеры:** Инструкции для пользователей, как правильно фотографировать документы.
    *   **Гибкость:** Возможность заменить уже загруженный файл или пропустить загрузку и вернуться к ней позже.

*   **Управление сессией и прогрессом:**
    *   **Автоматическое сохранение:** Прогресс заполнения анкеты сохраняется на сервере после каждого шага.
    *   **Возврат к заполнению:** Пользователь может закрыть анкету и вернуться к ней позже, используя уникальную и безопасную ссылку (токен).

*   **Просмотр и отправка:**
    *   **Предпросмотр анкеты:** Возможность просмотреть все введенные данные и загруженные файлы перед отправкой.
    *   **Редактирование перед отправкой:** Пользователь может вернуться к любому шагу и исправить информацию.
    *   **Подтверждение отправки:** После отправки пользователь получает сообщение об успешном завершении и информацию о сроках обратной связи.

#### **2. Административные возможности (для сотрудников фонда)**

Эти функции описывают "личный кабинет" или административную панель для управления заявками.

*   **Безопасный доступ:**
    *   Авторизация для сотрудников фонда для доступа к панели управления.

*   **Панель управления заявками:**
    *   **Централизованный список:** Все заявки отображаются в виде структурированной таблицы или списка.
    *   **Фильтрация и сортировка:** Возможность сортировать заявки по дате, статусу или другим параметрам.

*   **Управление статусами заявок:**
    *   Возможность изменять статус каждой заявки (например, «Новая», «Ожидает документов», «В обработке», «Завершена»).

*   **Работа с документами:**
    *   **Скачивание пакета документов:** Возможность скачать все документы, приложенные к одной заявке, единым ZIP-архивом.

*   **Внутренние коммуникации:**
    *   Возможность для сотрудников оставлять внутренние комментарии к заявкам, видимые только другим сотрудникам.

*   **Управление контентом анкеты:**
    *   **Редактор форм:** (В будущем) Возможность для администратора самостоятельно редактировать вопросы, варианты ответов и логику анкеты без привлечения разработчиков.

*   **Экспорт данных:**
    *   Возможность выгружать данные по всем или отфильтрованным заявкам в форматах `.xlsx` или `.csv` для дальнейшего анализа или интеграции с CRM.

#### **3. Системные и технические возможности**

Эти функции описывают архитектуру и внутренние процессы системы.

*   **Микросервисная архитектура:**
    *   **Разделение ответственности:** Логика разделена на независимые сервисы (API, Бот, Файловое хранилище), что повышает надежность и упрощает разработку.
    *   **API Gateway (Nginx):** Единая точка входа для всех запросов, обеспечивающая маршрутизацию и безопасность.

*   **Безопасное файловое хранилище:**
    *   **Интеграция с S3 (MinIO):** Файлы хранятся в надежном объектном хранилище.
    *   **Безопасный доступ:** Генерация временных, предварительно подписанных URL-адресов (pre-signed URLs) для безопасного скачивания документов.

*   **Целостность и безопасность данных:**
    *   **Соответствие 152-ФЗ:** Все процессы хранения и передачи данных спроектированы с учетом требований законодательства РФ.
    *   **Шифрование (HTTPS):** Все данные передаются по защищенному каналу.
    *   **Резервное копирование:** Настроены регулярные бэкапы базы данных.